<!-- <!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Campaign Analytics</title>
   <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
   <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
   <div class="analytics-container">
       <h2>Campaign Analytics</h2>


       <!-Filters Section -->
       <!-- <div class="filters">
           <div class="filter-row">
               <label for="channel">Channel:</label>
               <select id="channel">
                   <option value="all">All</option>
                   <option value="push">Push</option>
                   <option value="email">Email</option>
               </select>


               <label for="campaignName">Campaign Name:</label>
               <input type="text" id="campaignName" placeholder="Enter Campaign Name">


               <label for="dateFrom">Date From:</label>
               <input type="date" id="dateFrom">


               <label for="dateTo">Date To:</label>
               <input type="date" id="dateTo">


               <label for="status">Status:</label>
               <select id="status">
                   <option value="all">All</option>
                   <option value="active">Active</option>
                   <option value="scheduled">Scheduled</option>
                   <option value="drafts">Drafts</option>
               </select>
           </div> -->


           <!-- Sorting Section -->
           <!-- <div class="sort-by">
               <label for="sortBy">Sort By:</label>
               <select id="sortBy">
                   <option value="CTR">CTR</option>
                   <option value="sent">Sent</option>
                   <option value="clicked">Clicked</option>
                   <option value="performance">Campaign Performance</option>
                   <option value="createDate">Create Date</option> <!- Added Create Date to sorting options -->
               <!-- </select>
           </div> -->


           <!-- Filter Button -->
           <!-- <button onclick="applyFilters()">Apply Filters</button>
       </div> -->


       <!-- Campaign Table -->
       <!-- <table id="campaignTable" border="1">
           <thead>
               <tr>
                   <th>Campaign Name</th>
                   <th>Channel</th>
                   <th>Status</th>
                   <th>Test Variant</th>
                   <th>User Distribution</th>
                   <th>CTR (%)</th>
                   <th>Sent</th>
                   <th>Clicked</th>
                   <th>Ignored</th>
                   <th>Unsubscribe</th>
                   <th>Campaign Performance (%)</th>
                   <th>Create Date</th>Added Create Date column -->
               <!-- </tr>
           </thead>
           <tbody> -->
               <!-- Dynamic data rows will go here -->
           <!-- </tbody>
       </table> -->


       <!-- Download Button -->
       <!-- <button onclick="downloadExcel()">Download Excel</button>
   </div>
</body>
</html> -->


<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Campaign Analytics</title> <div style="text-align: center; margin-left: 30px; width: 20%;"></div>
   <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
   <script src="{{ url_for('static', filename='script.js') }}" defer></script>
</head>
<body>
   <div class="analytics-container">
       <h2>Campaign Analytics</h2>
       <br>
       <!-- Filters Section -->
       <div class="filters">
           <div class="filter-row">
               <label for="channel">Channel:</label>
               <select id="channel">
                   <option value="all">All</option>
                   <option value="push">Push</option>
                   <option value="email">Email</option>
               </select>


               <label for="campaignName">Campaign Name:</label>
               <input type="text" id="campaignName" placeholder="Enter Campaign Name">


               <label for="dateFrom">Date From:</label>
               <input type="date" id="dateFrom">


               <label for="dateTo">Date To:</label>
               <input type="date" id="dateTo">


               <label for="status">Status:</label>
               <select id="status">
                   <option value="all">All</option>
                   <option value="active">Active</option>
                   <option value="scheduled">Scheduled</option>
                   <option value="draft">Draft</option>
               </select>
           </div>
          


           <!-- Sorting Section -->
         
   <div class="sort-by">
       <label for="sortBy">Sort By:</label>
       <select id="sortBy">
           <option value="CTR">CTR</option>
           <option value="openRate">Open Rate</option>
       </select>
       <button onclick="applyFilters()">Apply Filters</button>
   </div><br>


           <!-- Filter Button -->
       </div>
       <div class="input-field">
           <label for="askAI">Anaylze your Campaign Data with AI </label>
           <br>
           <textarea id="Question" placeholder="Describe what you want to analyze " rows="4" required></textarea>
       </div>
       <button id="GetInsights" style="display:block" onclick="getInsights()">Get Insights</button>


        <br>
       <!-- Campaign Table -->
       <table id="campaignTable" border="1">
           <thead>
               <tr>
                   <th>Sent Date</th>
                   <th>Campaign Name</th>
                   <th>Status</th>
                   <th>Channel</th>
                   <th>User Segment</th>
                   <th>Delivered</th>
                   <th>Opened</th>
                   <th>Clicked</th>
                   <th>Unsubscribe Rate (%)</th>
                   <th>Open Rate (%)</th>
                   <th>CTR (%)</th>
                   <th>Avg. Open Time (min)</th>
                   <th>Avg. Click Time (min)</th>
               </tr>
           </thead>
           <tbody id="campaignDataBody">
               <!-- Dynamic data rows will go here -->
           </tbody>
       </table>
   </div>
</body>




<!-- Popup for Campaign Insights -->
<div id="InsightsPopup" style="
   display: none;
   position: fixed;
   top: 30px;
   left: 150px;
   right: 150px;
   bottom: 40px;
   transform: translate(-50%, -50%)
   width: 30vw;
   height: 75vh;
   background-color: white;
   padding: 20px;
   box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
   z-index: 1000;
   overflow-y: auto;  /* Enables vertical scrolling */
   border-radius: 10px;
">
   <h3 style="text-align: center;">Campaign Data Insights</h3>
   <p id="campaignInsights"></p>
    <p id="campaignInsights">Loading insights with AI...</p>
   <!-- <button onclick="closeInsights()">Close</button>
</div> -->
<!-- Close button positioned at the top-right corner -->
<button onclick="closeInsights()" style="
position: absolute;
top: 10px;
right: 40px;
background-color: #ff7f50;  /* Set the background color to red */
border: none;
color: white;
font-size: 24px;
cursor: pointer;
border-radius: 60%;  /* Make the button circular */
width: 30px;
height: 30px;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
">&times;</button>
</div>




<!-- Overlay for Popup -->
<div id="popupOverlayInsights" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 999;" onclick="closeInsights()"></div>


</html>

